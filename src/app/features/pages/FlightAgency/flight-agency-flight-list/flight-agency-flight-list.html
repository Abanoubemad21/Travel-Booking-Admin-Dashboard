<div class="container my-4">
    @if(loading()){
    <div class="text-center py-5">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 text-muted">Loading flights...</p>
    </div>
    }

    @if(error()){
    <div class="alert alert-danger alert-dismissible fade show text-center" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <strong>Error!</strong> {{ error() }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    }

    @if(noFlights()){
    <div class="alert alert-info text-center py-4">
        <i class="bi bi-info-circle-fill me-2"></i>
        No flights available. Try adjusting your search criteria.
        <a [routerLink]="['flight-admin/flights/create']" class="btn btn-primary">Create new Flight</a>
    </div>
    }

    @if(!loading() && !noFlights()){
    <div class="row g-4">
        @for (flight of Flights(); track flight.flightId) {
        <div class="col-sm-12 col-lg-6 col-xl-6">
            <div class="card h-100 shadow-sm border-0 overflow-hidden">
                <div class="card-body p-0 d-flex">
                    <!-- Left Side - Airline Logo -->
                    <div class="d-flex flex-column align-items-center p-3 bg-light" style="width: 200px;">
                        <img [src]="flight.imageUrl  || 'https://via.placeholder.com/80?text=Logo'"
                            class="img-fluid mb-2" style="max-height: 60px; width: auto;"
                            [alt]="flight.airlineName + ' logo'">
                        <span class="badge bg-primary bg-opacity-90 w-100 text-center small">
                            {{ flight.flightId }}
                        </span>
                    </div>

                    <!-- Right Side - Flight Info -->
                    <div class="flex-grow-1 p-3 d-flex flex-column">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div>
                                <h5 class="mb-1 fw-bold">
                                    {{ flight.departureAirport }}
                                    <i class="bi bi-arrow-right mx-1 text-primary"></i>
                                    {{ flight.arrivalAirport }}
                                </h5>
                                <p class="small text-muted mb-0">
                                    <i class="bi bi-calendar me-1"></i>
                                    {{ flight.departureTime | date:'mediumDate' }}
                                </p>
                            </div>

                        </div>

                        <div class="mb-2">
                            <p class="small mb-1">
                                <i class="bi bi-clock me-1"></i>
                                {{ flight.departureTime | date:'shortTime' }} - {{ flight.arrivalTime | date:'shortTime'
                                }}
                            </p>
                            <p class="small text-muted mb-0">
                                <i class="bi bi-airplane me-1"></i>
                                {{ flight.airlineName }}
                            </p>
                        </div>

                        <div class="mt-auto pt-2">
                            <div class="d-flex justify-content-between small mb-2">
                                <span>Economy</span>
                                <span class="fw-bold text-primary">${{ flight.economyPrice }}</span>
                            </div>
                            <div class="d-flex justify-content-between small mb-2">
                                <span>Business</span>
                                <span class="fw-bold text-success">${{ flight.businessPrice }}</span>
                            </div>
                            <div class="d-flex justify-content-between small">
                                <span>First Class</span>
                                <span class="fw-bold text-danger">${{ flight.firstClassPrice }}</span>
                            </div>
                        </div>

                        <div class="mt-3 pt-2 border-top d-flex gap-5">
                            <button class="btn btn-sm btn-outline-primary rounded-pill px-2 py-1">
                                <i class="bi bi-eye me-1"></i> View
                            </button>
                            <button class="btn btn-sm btn-outline-secondary rounded-pill px-2 py-1">
                                <i class="bi bi-pencil me-1"></i> Edit
                            </button>
                            <button class="btn btn-sm btn-outline-danger rounded-pill px-2 py-1">
                                <i class="bi bi-trash me-1"></i> Delete
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        }
    </div>
    }
</div>